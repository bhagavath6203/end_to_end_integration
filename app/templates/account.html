<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Account</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Account.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sidebar.css') }}">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    {% include 'header.html' %}
    <div class="content">
        <div class="container">
            <h1>Account Information</h1>
            {% if accounts %}
                <div class="profile-picture-container">
                    {% if accounts.profile_picture %}
                        <img src="{{ accounts.profile_picture }}" alt="Profile Picture" class="profile-picture" id="profilePicture">
                    {% else %}
                        <img src="{{ url_for('static', filename='images/default-profile.png') }}" alt="Default Profile Picture" class="profile-picture" id="profilePicture">
                    {% endif %}
                </div>
                <div class="profile-details">
                    <p><strong>Username:</strong> {{ accounts.user }}</p>
                    <p><strong>Email:</strong> {{ accounts.email if accounts.email else 'Not provided' }}</p>
                    <p><strong>Full Name:</strong> {{ accounts.full_name if accounts.full_name else 'Not provided' }}</p>
                    <p><strong>Date Joined:</strong> {{ accounts.date_joined if accounts.date_joined else 'Not available' }}</p>
                    <!-- Add more fields as needed, based on your MongoDB schema -->
                </div>
                <div class="profile-actions">
                    <form action="{{ url_for('update_profile_picture') }}" method="post" enctype="multipart/form-data">
                        <input type="file" name="file" id="fileInput" style="display: none;" accept="image/*" onchange="this.form.submit()">
                        <button type="button" onclick="document.getElementById('fileInput').click();">Change Profile Picture</button>
                    </form>
                    <form action="{{ url_for('remove_profile_picture') }}" method="post">
                        <button type="submit">Remove Profile Picture</button>
                    </form>
                    <form action="{{ url_for('auth.change_password') }}" method="get">
                        <button type="submit">Change Password</button>
                    </form>
                </div>
            {% else %}
                <p>Account information is not available. Please ensure you're logged in.</p>
                {% if error %}
                    <p>{{ error }}</p>
                {% endif %}
            {% endif %}
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/sidebar.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</body>

</html>
