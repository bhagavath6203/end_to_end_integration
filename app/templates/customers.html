<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/customer.css') }}">

    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    
    
    {% include 'header.html' %}

    
        <div class="content">
            

            <br />
            <div class="filters">
                <div class="search-container">
                    <input type="text" placeholder="Search" id="search">
                    <i class="fa fa-search search-icon"></i>
                  </div>
               <!-- add user button-->
                <div class="button-container">
                    <button class="add-user-btn" onclick="handleAddUser()">Add User</button>
                    <button class="export-btn" id="export-btn">Export</button>
                    <button class="import-btn" id="import-btn">Import</button>

                  </div>

                <div id="addUserModal" class="modal">
                    <div class="modal-content">
                        <span class="close" onclick="closeModal()">&times;</span>
                      <center><h2>Add User</h2></center>
                        <form id="addUserForm" onsubmit="event.preventDefault(); addUser();" method="POST">
                            <label for="customerId">Customer ID:</label>
                            <input type="text" id="customerId" name="customerId" readonly>
                            <label for="customerName">Customer Name:</label>
                            <input type="text" id="customerName" name="customerName" required>
                            <label for="email">Email ID:</label>
                            <input type="email" id="email" name="email" required>
                            <label for="contactNumber">Contact Number:</label>
                            <input type="tel" id="contactNumber" name="contactNumber" required>
                            <label for="status">Status:</label>
                            <select id="status" name="status" required>
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                            <button type="submit">Save</button>
                        </form>
                    </div>
                </div>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Customer ID</th>
                        <th>Customer Name</th>
                        <th>Email ID</th>
                        <th>Contact Number</th>
                        <th>
                            Active Tickets
                            <select id="ticketStatusFilter" onchange="filterTickets()">
                                <option value="All">All</option>
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                            </select>
                        </th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="customer-tbody"></tbody>
            </table>
             <!--pagination-->
            <div class="pagination" id="customer-pagination">
                <button class="pagination-button" id="prev-button">&laquo; Previous</button>
                <span class="pagination-info">Page <span id="current-page">1</span> of <span id="total-pages">0</span></span>
                <button class="pagination-button" id="next-button">Next &raquo;</button>
            </div>

        </div>
    </div>

    
    <input type="file" id="import-file" accept=".xlsx" style="display: none;">





    <!-- popup form for alert msgs for add user form-->
    <div id="error-popup" class="popup">
        <div class="popup-content">
          <span class="close" onclick="closePopup()">&times;</span>
          <p id="error-message"></p>
          <button onclick="closePopup()">OK</button>
        </div>
      </div>
      

    <!--success msg for pop up forms-->
    <div id="successModal" class="modal">
        <div class="modal-content">
          <p id="successMessage"></p>
        </div>
    </div>
    <!-- confirmation for deleteing user-->
    <div id="deleteConfirmationModal" class="modal">
        <div class="modal-content">
          <p>Are you sure you want to delete this user?</p>
          <div style="display: flex; justify-content: center;">
            <button class="cancel-delete-btn" onclick="closeDeleteModal()">Cancel</button>
            <button class="confirm-delete-btn" onclick="confirmDelete()">Yes</button>
          </div>
        </div>
      </div>
      

    <script src="{{ url_for('static', filename='js/customer.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <!-- xlsx export-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!--pagination-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplePagination.js/1.6/jquery.simplePagination.js"></script>
</body>
</html>
